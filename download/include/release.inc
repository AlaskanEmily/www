<?

#
# This is PHP3 code.  On Debian systems (e.g. venus.cs.mu.oz.au),
# see /usr/share/doc/php3-doc/html/index.html for documentation on PHP3.
#

$aus_ftp = "ftp://$ftp_domain/pub/mercury/";
$aus_http = "http://$www_domain/download/files/";
$usa_sourceforge_http = "http://prdownloads.sourceforge.net/mercury/";
$usa_sunsite_ftp = "ftp://sunsite.unc.edu/pub/Linux/devel/lang/mercury/";
$usa_sunysb_ftp = "ftp://ftp.cs.sunysb.edu/pub/XSB/mercury/";
$sweden_ftp = "ftp://ftp.csd.uu.se/pub/Mercury/";

#
# XXX The stuff for the Uppsala and Stonybrook ftp sites is disabled,
# since those sites are not working/updated at the moment.
#
$Uppsala = "no";
$Stonybrook = "no";

#
# XXX These sites should be enabled once the release has been uploaded to
# them
#
$Sunsite = "no";
$Sourceforge = "no";

function link_to ($directory, $filename, $description)
{
	echo "<a href = \"" . $directory . $filename .
		"\">" . $description . "</a>\n";
	echo "&nbsp;&nbsp;&nbsp;\n";
}

function links_to_file ($filename, $onSunsite)
{
	global $aus_ftp, $aus_http, $usa_sourceforge_http, $usa_sunsite_ftp,
		$usa_sunysb_ftp, $sweden_ftp;
	global $Uppsala, $Stonybrook;
	global $Sunsite, $SourceForge;

	link_to ($aus_ftp, $filename, "Australia (FTP)");
	link_to ($aus_http, $filename, "Australia (HTTP)");
	if ($onSunsite == "yes" && $Sunsite == "yes") {
		link_to ($usa_sunsite_ftp, $filename, "USA (Sunsite FTP)");
	}
	if ($Sourceforge == "yes") {
		link_to ($usa_sourceforge_http, $filename, 
			"USA (SourceForge HTTP)");
	}
	if ($Uppsala == "yes") {
		link_to ($usa_sunysb_ftp, $filename, "USA (Stonybrook FTP)");
	}
	if ($Stonybrook == "yes") {
		link_to ($sweden_ftp, $filename, "Sweden (FTP)");
	}
}

?>
<h2><a name="info">Current Release</a></h2>

Mercury 10.04 was released on July 19, 2010.

<h3>Information</h3>

<ul>
<li> <a href = "release-10.04.html">
     Release notes for 10.04
     </a>
<li> <a href = "release-10.04-contents.html">
     Contents of release 10.04 distribution
     </a>
<li> <a href = "release-10.04-bugs.html">
     Known problems with release 10.04
     </a>
<li> <a href = "limitations.html">
     Limitations of the current release.
     </a>
</ul>

<h3>Supported Platforms</h3>

The latest release is known to work on the following platforms:

<p>

<ul>
    <li> x86 and x86-64 machines running Linux 
    <li> x86 machines running Microsoft Windows XP
    <li> Apple Intel machines (both x86 and x86-64) running Mac OS X 10.5 and above
</ul>

<p>

It should be pretty easy to port to any sufficiently Unix-like system.

<h3>What do I need?</h3>

<ul>
<li> For Unix systems, you will need the following:<p>
    <ol>
    <li> <a href="http://gcc.gnu.org">GNU C (gcc)</a>
         <p>
         GCC version 3.4.x or later is required.
         <p>
         GCC 4.0 will NOT work. 
	 It has bugs that cause 
	 internal compiler errors when compiling the C code generated by the 
	 Mercury compiler.
         <p>
         It is also possible to use other C compilers, such as
         <a href="http://www.cs.princeton.edu/software/lcc/">lcc</a>,
         but we don't recommend that.
         <p>
    <li> GNU make (version 3.69 or higher).
    </ol>

    <p>

<li> For Windows,<p>
     <ol>
     <li> You will need a Unix-like enviroment such as <a href="http://www.cygwin.com/">Cygwin</a>,
          or <a href="http://www.mingow/org/">MinGW and MSYS</a>.  Both provide GNU C and GNU make.
     <li> You can optionally use
          <a href="http://msdn.microsoft.com/visualc/default.asp">
          Microsoft Visual C</a> rather than GNU C.<p>
     </ol>
</ul>

<h3><a name="source">Source Distribution</a></h3>

The main "mercury-compiler" source distribution is about 25 Mb.
This includes the compiler, standard library,
debugger, profilers, and other tools.

<p>

There is also a "mercury-extras" distribution which contains a number
of useful additional libraries.  This is distributed separately,
mainly for copyright reasons (some of the additional libraries do
not meet the Debian Free Software Guidelines).
We recommend that everyone who downloads the "compiler"
distribution should also download the "extras" distribution.

<p>

Finally there is also a "mercury-tests" distribution which contains our
test suite.  This may be useful if you are modifying the compiler,
or porting it to a new system.

<dl>
<dt> Compiler (25 Mb)
<dd> 
<? links_to_file("mercury-compiler-10.04.tar.gz", "yes") ?>
<p>

<dt> Extras (750 kb)
<dd>
<? links_to_file("mercury-extras-10.04.tar.gz", "no") ?>
<p>

<dt> Tests (1 Mb)
<dd>
<? links_to_file("mercury-tests-10.04.tar.gz", "no") ?>
</dl>

<h3><a name="binaries">Binary Distributions</a></h3>

There are no binary distributions for 10.04 currently available.
